<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MiQR - Tienda</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- HEADER TIENDA -->
  <header class="shop-header">
    <div class="shop-header-inner">

    <!-- Logo clickeable que vuelve a index.html -->
    <a href="index.html" class="shop-back-logo">
      <img src="https://makemiqr.wordpress.com/wp-content/uploads/2025/11/logo-mi-qr-03-1.png?w=924"
           alt="MiQR" class="shop-logo">
      <span class="shop-title">Tienda</span>
    </a>

    <!-- Botón modo oscuro y carrito, por ejemplo -->
    <div class="shop-right">
      <button id="themeToggle" class="theme-toggle" aria-label="Cambiar tema">
  <img src="./assets/sun.svg" alt="Modo claro" class="theme-icon theme-icon-sun">
  <img src="./assets/moon.svg" alt="Modo oscuro" class="theme-icon theme-icon-moon">
</button>

  <!-- Botón carrito con icono y badge -->
  <button class="cart-icon-btn" aria-label="Ver carrito">
    <img src="./assets/Carrito.svg" alt="Carrito" class="cart-icon-img">
    <span id="cartBadge" class="cart-badge">0</span>
      </button>
    </div>

  </div>




  <!-- LISTA DE PRODUCTOS -->
  <main class="shop-main">
    <div class="shop-container">

      <!-- Producto 1 -->
      <article class="product-card">
        <div class="product-image-wrapper">
          <img src="./assets/cart.jpg"
               alt="Tarjeta QR personalizada" class="product-image">
        </div>

        <div class="product-dots">
          <span></span><span></span><span></span>
        </div>

        <h2 class="product-name">Tarjeta QR personalizada</h2>
        <p class="product-desc">
          Tarjeta con tu QR personalizado impreso en alta calidad.
        </p>
<div class="product-controls">
    <button class="btn" onclick="addItem('qr')">+</button>
    <span id="count-qr">0</span>
    <button class="btn" onclick="removeItem('qr')">-</button>
</div>

      </article>

      <!-- Producto 2 -->
      <article class="product-card">
        <div class="product-image-wrapper">
          <img src="./assets/protects.jpg"
               alt="Protectores" class="product-image">
        </div>

        <div class="product-dots">
          <span></span><span></span><span></span>
        </div>

        <h2 class="product-name">Protectores</h2>
        <p class="product-desc">
          Protector diseñado para cuidar tu tarjeta y prolongar su durabilidad.
        </p>
<div class="product-controls">
    <button class="btn" onclick="addItem('protect')">+</button>
    <span id="count-protect">0</span>
    <button class="btn" onclick="removeItem('protect')">-</button>
</div>

      </article>

      <!-- Producto 3 -->
      <article class="product-card">
        <div class="product-image-wrapper">
          <img src="./assets/accesories.jpg"
               alt="Accesorios" class="product-image">
        </div>

        <div class="product-dots">
          <span></span><span></span><span></span>
        </div>

        <h2 class="product-name">Accesorios</h2>
        <p class="product-desc">
          Accesorios diseñados para complementar y mejorar tus tarjetas QR.
        </p>
<div class="product-controls">
    <button class="btn" onclick="addItem('acces')">+</button>
    <span id="count-acces">0</span>
    <button class="btn" onclick="removeItem('acces')">-</button>
</div>

      </article>

    </div>
  </main>
<!-- CARRITO FIJO -->
<div class="cart-bar">
    <div class="cart-info">
        <span>Total:</span>
        <strong id="cartTotal">$0 COP</strong>
    </div>

    <div class="cart-actions">
        <button class="btn" onclick="clearCart()">Limpiar carrito</button>
        <button class="btn-primary" onclick="goToCheckout()">Ir a las compras</button>
    </div>
</div>

<script>
    const prices = {
        qr: 10000,
        protect: 5000,
        acces: 2000
    };

    const counts = {
        qr: 0,
        protect: 0,
        acces: 0
    };

function updateCart() {
    let total =
        counts.qr * prices.qr +
        counts.protect * prices.protect +
        counts.acces * prices.acces;

    document.getElementById("cartTotal").textContent =
        `$${total.toLocaleString("es-CO")} COP`;

    document.getElementById("count-qr").textContent = counts.qr;
    document.getElementById("count-protect").textContent = counts.protect;
    document.getElementById("count-acces").textContent = counts.acces;

    // NUEVO: actualizar número del badge del carrito
    const totalItems = counts.qr + counts.protect + counts.acces;
    const badge = document.getElementById("cartBadge");
    badge.textContent = totalItems;
}


    function addItem(type) {
        counts[type]++;
        updateCart();
    }

    function removeItem(type) {
        if (counts[type] > 0) {
            counts[type]--;
            updateCart();
        }
    }

    function clearCart() {
        counts.qr = 0;
        counts.protect = 0;
        counts.acces = 0;
        updateCart();
    }

    function goToCheckout() {
        alert("Primero registrate para realizar tu compra");
    }
</script>

<script>
  const toggleBtn = document.getElementById('themeToggle');

  // Cargar preferencia previa
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark-mode');
  }

  toggleBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>


</body>
</html>
